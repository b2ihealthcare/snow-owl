<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>Configuration guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
<h1>Configuration guide</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document helps configuring each installed component for use with Snow Owl Server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_components">Components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operating_system">Operating system</h3>
<div class="paragraph">
<p>Install <code>system-config-firewall-tui</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># yum install dbus dbus-python system-config-firewall-tui
# reboot</pre>
</div>
</div>
<div class="paragraph">
<p>Using the text-based UI, enable these Trusted Services:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SSH</dt>
<dd>
<p>For remote administration of the server</p>
</dd>
<dt class="hdlist1">WWW (HTTP)</dt>
<dd>
<p>For accessing Bugzilla&#8217;s SOAP API and web-based UI</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Also open access to the following ports:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">8080/TCP</dt>
<dd>
<p>Used by Snow Owl Server&#8217;s REST API</p>
</dd>
<dt class="hdlist1">2036/TCP</dt>
<dd>
<p>Used by the Net4J binary protocol connecting Snow Owl clients to the server</p>
</dd>
<dt class="hdlist1">11389/TCP</dt>
<dd>
<p>Used by the LDAP server</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_database_server_software">Database server software</h3>
<div class="paragraph">
<p>Edit <code>/etc/my.cnf</code> to adjust settings for the MySQL server. Recommended settings are shown below, but there are lots
of additional tunable settings to choose from depending on the hardware configuration used; please see
<a href="https://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html" class="bare">https://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html</a> for the full set of system variables.</p>
</div>
<div class="listingblock">
<div class="title">/etc/my.cnf</div>
<div class="content">
<pre>#
# The following options will be read by MySQL client applications.
# Note that only client applications shipped by MySQL are guaranteed
# to read this section. If you want your own MySQL client program to
# honor these values, you need to specify it as an option during the
# MySQL client library initialization.
#
[client]
socket = /var/lib/mysql/mysql.sock

[mysqld]

# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
innodb_buffer_pool_size = 5G

# Size of each log file in a log group. You should set the combined size
# of log files to about 25%-100% of your buffer pool size to avoid
# unneeded buffer pool flush activity on log file overwrite. However,
# note that a larger logfile size will increase the time needed for the
# recovery process.
innodb_log_file_size = 1G

# Total number of files in the log group. A value of 2-3 is usually good
# enough.
innodb_log_files_in_group = 3

# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin

# These are commonly set, remove the # and set as required.
# basedir = .....
# datadir = .....
# port = .....
# server_id = .....
socket = /var/lib/mysql/mysql.sock

# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES

# Minimum word length to be indexed by the full text search index.
# You might wish to decrease it if you need to search for shorter words.
# Note that you need to rebuild your FULLTEXT index, after you have
# modified this value.
ft_min_word_len = 2

# The maximum size of a query packet the server can handle as well as
# maximum query size server can process (Important when working with
# large BLOBs).  enlarged dynamically, for each connection.
max_allowed_packet = 16M

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

collation-server=utf8_unicode_ci
character-set-server=utf8

lower_case_table_names=1
transaction-isolation=READ-COMMITTED

[mysqldump]
# Do not buffer the whole result set in memory before writing it to
# file. Required for dumping very large tables
quick
max_allowed_packet = 16M</pre>
</div>
</div>
<div class="paragraph">
<p>Restart the mysql service to make sure changes are picked up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># service mysqld restart
Stopping mysqld:                                           [  OK  ]
Starting mysqld:                                           [  OK  ]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ldap">LDAP</h3>
<div class="sect3">
<h4 id="_setting_up_a_connection_from_apache_directory_studio">Setting up a connection from Apache Directory Studio</h4>
<div class="paragraph">
<p>Open Apache Directory Studio, create a new connection using the first button on the &#8220;Connections&#8221; toolbar:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_connection.png" alt="ldap new connection">
</div>
</div>
<div class="paragraph">
<p>Enter connection name, hostname, and port, then hit <code>Next &gt;</code> to go to the next page in the wizard:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_connection_page1.png" alt="ldap new connection page1">
</div>
</div>
<div class="paragraph">
<p>Set authentication method to <code>Simple Authentication</code>, enter Bind DN <code>uid=admin,ou=system</code> and password <code>secret</code>. Click
<code>Check Authentication</code> to make sure the values are accepted, then dismiss the wizard with <code>Finish</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_connection_page2.png" alt="ldap new connection page2">
</div>
</div>
<div class="paragraph">
<p>After connecting, you are advised to change the default password for user <code>system</code>. In order to do so, expand node
<code>ou=system</code> and select the person <code>admin</code>. The editor will now display related user information:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_admin_user_details.png" alt="ldap admin user details">
</div>
</div>
<div class="paragraph">
<p>Double click on <code>userPassword</code> to open the password change dialog, select <code>SSHA-512</code> as the hash method. To see the new
password as it is being entered, check <code>Show next password details</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_change_password.png" alt="ldap change password">
</div>
</div>
<div class="paragraph">
<p>To see if the password was changed successfully:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Close the connection using the third button on the lower left toolbar named <code>Close Connection</code>,</p>
</li>
<li>
<p>Right-click the item representing the connection to open its properties with the context menu item at the bottom,</p>
</li>
<li>
<p>Change the previously entered default bind password to the updated value on the <code>Authentication</code> tab,</p>
</li>
<li>
<p>Re-connect to the server using <code>Open Connection</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_creating_a_partition_for_snow_owl_server">Creating a partition for Snow Owl Server</h4>
<div class="paragraph">
<p>Right-click on the item representing the connection, and select "Open Configuration":</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_connection_context_menu.png" alt="ldap connection context menu">
</div>
</div>
<div class="paragraph">
<p>An editor opens with the server configuration; select the <code>Partitions</code> tab. An <code>examples</code> partition is added by default,
which should be removed. Add a new partition named <code>snowowl</code> and fill out the details (ID and suffix):</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_configuration.png" alt="ldap configuration">
</div>
</div>
<div class="paragraph">
<p>Save the editor and restart the server to apply changes in partitions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># service apacheds-2.0.0_M12-default restart
Stopping ApacheDS - default...
Stopped ApacheDS - default.
Starting ApacheDS - default...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_using_ldif_dumps">Using LDIF dumps</h4>
<div class="paragraph">
<p>B2i provided LDAP packages include the following content:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">schema.ldif</dt>
<dd>
<p>LDAP schema to use for authorization (contains definitions for permissionId and role)</p>
</dd>
<dt class="hdlist1">permissions.ldif</dt>
<dd>
<p>All available permissions in the system</p>
</dd>
<dt class="hdlist1">roles.ldif</dt>
<dd>
<p>All available roles in the system</p>
</dd>
<dt class="hdlist1">pm.ldif</dt>
<dd>
<p>Maps permissions to roles</p>
</dd>
<dt class="hdlist1">update.sh</dt>
<dd>
<p>An update script using <code>ldapmodify</code> and <code>ldapadd</code> commands against a running LDAP instance to update it
based on the files above</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Optionally the assembly can contain two additional files:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">users.ldif</dt>
<dd>
<p>All users available in the system</p>
</dd>
<dt class="hdlist1">rm.ldif</dt>
<dd>
<p>Maps roles to users in the system</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The update script will also make use of these files if any of them exist.</p>
</div>
<div class="paragraph">
<p>Install the <code>openldap-clients</code> first to make use of the script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># yum install openldap-clients</pre>
</div>
</div>
<div class="paragraph">
<p>Before updating the LDAP server, it is advised to shut down the service, and create a backup from the contents
of folder <code>/var/lib/apacheds-2.0.0_M12/default</code>, so it can be restored easily if the script fails.</p>
</div>
<div class="paragraph">
<p>Restart the server, then create a new ldif-&lt;version&gt; folder and unzip the contents of the LDIF archive into
this folder. Finally, execute the script to update the contents of LDAP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># chmod u+x update.sh

# ./update.sh
Not specified LDAP URI parameter, using ldap://localhost:10389
adding new entry "cn=permission, ou=schema"
adding new entry "ou=attributeTypes, cn=permission, ou=schema"
...
modifying entry...</pre>
</div>
</div>
<div class="paragraph">
<p>In case an error occurs, the executed command and the error response will be displayed. Errors will also be logged
to a <code>{file_name}.errors</code> file, where the <code>{file_name}</code> refers to the file being processed (eg. <code>permissions.errors</code>).</p>
</div>
<div class="paragraph">
<p>When executing the script it is possible to get the following errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ERR_250_ALREADY_EXISTS</code> (or any synonym of ALREADY_EXISTS)</p>
</li>
<li>
<p><code>ERR_54 Cannot add a value which is already present : snomed:compare:automap</code></p>
</li>
<li>
<p><code>ERR_335 Oid 2.25.128424792425578037463837247958458780603.1 for new schema entity is not unique</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is expected as most of the time the LDAP instance will already contain an existing definition of some entries and/or
schema entities. If you notice other errors (either during script execution or when using the LDAP), roll back your instance
to a previous state from a backup.</p>
</div>
<div class="paragraph">
<p>By default the update script will execute against the LDAP instance running locally at <code>ldap://localhost:10389</code>; if
you&#8217;d like to run the script against a remote LDAP server (or the LDAP is listening on a different port), you can do it by
specifying the LDAP_URI parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># ./update.sh ldap://&lt;host&gt;:&lt;port&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_creating_a_new_user_from_directory_studio">Creating a new user from Directory Studio</h4>
<div class="paragraph">
<p>Go to LDAP Browser view, right click on the Domain component (DC) and add new entry via <code>New</code> &gt; <code>New entry</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_context_menu.png" alt="ldap new user context menu">
</div>
</div>
<div class="paragraph">
<p>Create a new entry from scratch:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_new_entry.png" alt="ldap new user new entry">
</div>
</div>
<div class="paragraph">
<p>Select <code>inetOrgPreson</code> object from the wizard, add it as a selected object class:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_class.png" alt="ldap new user class">
</div>
</div>
<div class="paragraph">
<p>Configure the Relative Distinguished Name (RDN). Specify the common name (CN), surname (SN) and unique ID (uid):</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_rdn.png" alt="ldap new user rdn">
</div>
</div>
<div class="paragraph">
<p>Open the added node in an editor, right click in the editor and select <code>New Attribute</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_new_attribute.png" alt="ldap new user new attribute">
</div>
</div>
<div class="paragraph">
<p>Select <code>userPassword</code> attribute, click <code>Finish</code>, then enter user password in the <code>Password Editor</code> dialog:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_password.png" alt="ldap new user password">
</div>
</div>
<div class="paragraph">
<p>Finally, add a <code>uniqueMember</code> attribute to the Administrator group.</p>
</div>
<div class="paragraph">
<p>Select the new user&#8217;s node in the tree, right click and select <code>Copy Entry / DN</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_copy_entry.png" alt="ldap new user copy entry">
</div>
</div>
<div class="paragraph">
<p>Right click the <code>uniqueMember</code> attribute of the <code>Administrator</code> node, select <code>New Value</code> and paste the previously copied DN
of the new user as the value:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ldap_new_user_add_to_group.png" alt="ldap new user add to group">
</div>
</div>
<div class="paragraph">
<p>The operation takes place after pressing Enter or removing the focus from the edited field.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_task_tracking">Task Tracking</h3>
<div class="sect3">
<h4 id="_finishing_the_installation">Finishing the installation</h4>
<div class="paragraph">
<p>Create a MySQL user for Bugzilla using the command-line client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mysql&gt; GRANT SELECT, INSERT, UPDATE, DELETE, INDEX, ALTER, CREATE, LOCK TABLES,
       CREATE TEMPORARY TABLES, DROP, REFERENCES ON bugs.*
       TO bugs@localhost IDENTIFIED BY 'bugzilla_pwd'; <b class="conum">(1)</b>

mysql&gt; FLUSH PRIVILEGES;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Replace <code>bugzilla_pwd</code> with a generated password</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Return to folder <code>/var/www/html/bugzilla</code> and edit <code>localconfig</code> to reflect the DB user name and password changes:</p>
</div>
<div class="listingblock">
<div class="title">/var/www/html/bugzilla/localconfig</div>
<div class="content">
<pre># Enter your database password here. It's normally advisable to specify
# a password for your bugzilla database user.
# If you use apostrophe (') or a backslash (\) in your password, you'll
# need to escape it by preceding it with a '\' character. (\') or (\)
# (Far simpler just not to use those characters.)
$db_pass = 'bugzilla_pwd';</pre>
</div>
</div>
<div class="paragraph">
<p>Apply the following patch on <code>/var/www/html/bugzilla/Bugzilla/DB/Mysql.pm</code> to make Bugzilla work with MySQL 5.6:</p>
</div>
<div class="listingblock">
<div class="title">Mysql.pm.patch</div>
<div class="content">
<pre>--- Mysql.pm.old        2015-07-23 22:07:27.797000043 +0200
+++ Mysql.pm    2015-07-23 22:10:49.373999897 +0200
@@ -309,8 +309,8 @@
     # works if InnoDB is off. (Particularly if we've already converted the
     # tables to InnoDB.)
     my ($innodb_on) = @{$self-&gt;selectcol_arrayref(
-        q{SHOW VARIABLES LIKE '%have_innodb%'}, {Columns=&gt;[2]})};
-    if ($innodb_on ne 'YES') {
+        q{SHOW ENGINES}, {Columns=&gt;[2]})};
+    if ($innodb_on ne 'YES' &amp;&amp; $innodb_on ne 'DEFAULT') {
         print &lt;&lt;EOT;
 InnoDB is disabled in your MySQL installation.
 Bugzilla requires InnoDB to be enabled.</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, run <code>./checksetup.pl</code> again. Bugzilla should be reachable at <a href="http://localhost/bugzilla" class="bare">http://localhost/bugzilla</a> after configuration is completed. Details
of the administrator user will be requested at the end of the process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
Adding a new user setting called 'per_bug_queries'
Adding a new user setting called 'zoom_textareas'
Adding a new user setting called 'csv_colsepchar'
Adding a new user setting called 'state_addselfcc'
Adding a new user setting called 'comment_sort_order'
Adding a new user setting called 'display_quips'

Looks like we don't have an administrator set up yet. Either this is
your first time using Bugzilla, or your administrator's privileges
might have accidentally been deleted.

Enter the e-mail address of the administrator: info@b2international.com <b class="conum">(1)</b>
Enter the real name of the administrator: Administrator <b class="conum">(2)</b>
Enter a password for the administrator account: <b class="conum">(3)</b>
Please retype the password to verify:
info@b2international.com is now set up as an administrator.
Creating initial dummy product 'TestProduct'...

Now that you have installed Bugzilla, you should visit the 'Parameters'
page (linked in the footer of the Administrator account) to ensure it
is set up as you wish - this includes setting the 'urlbase' option to
the correct URL.</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter the e-mail address of the administrator user</p>
</li>
<li>
<p>Add a display name for the Bugzilla administrator</p>
</li>
<li>
<p>Enter the password of the administrator user</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once Bugzilla has created its table structure, you can increase the maximum table size by executing the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mysql&gt; USE bugzilla
mysql&gt; ALTER TABLE attachments
       AVG_ROW_LENGTH=1000000, MAX_ROWS=20000;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_administration_of_bugzilla">Administration of Bugzilla</h4>
<div class="paragraph">
<p>See <a href="http://www.bugzilla.org/docs/3.6/en/html/administration.html" class="bare">http://www.bugzilla.org/docs/3.6/en/html/administration.html</a> for a comprehensive list of administrative tasks and options.</p>
</div>
<div class="paragraph">
<p>After logging in with an account that has administrative privileges, click the <code>Administration</code> link on the top. The
general administrative page will appear as shown below:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/bugzilla_administration.png" alt="bugzilla administration">
</div>
</div>
<div class="paragraph">
<p>Core parameters can be set by selecting <code>Parameters</code> on the top left. The following fields are recommended to be adjusted:</p>
</div>
<div class="sect4">
<h5 id="_required_settings">Required Settings</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">urlbase</dt>
<dd>
<p>Set to the the common leading part of all URLs which are related to Bugzilla (ex.: <a href="http://server.domain/bugzilla/" class="bare">http://server.domain/bugzilla/</a>)</p>
</dd>
<dt class="hdlist1">cookiepath</dt>
<dd>
<p>The common path segment of the URL under which Bugzilla cookies are allowed to be read; as noted in the description
above the field, its value should begin with '/' (ex.: /bugzilla/)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_general">General</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">maintainer</dt>
<dd>
<p>The email address entered here is shown on various pages in Bugzilla where contacting the administrator is
suggested</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_user_authentication">User Authentication</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">requirelogin</dt>
<dd>
<p>Set to On if you want to limit access to registered users only (disabling anonymous browsing of bugs)</p>
</dd>
<dt class="hdlist1">emailregexp and emailregexpdesc</dt>
<dd>
<p>Depending on requirements, the administrator may limit login names to values that are not actual
email addresses. In this case, set the fields as suggested in the description above, ie. <code>^[^@]+</code> and <code>Local usernames, no @ allowed.</code></p>
</dd>
<dt class="hdlist1">createemailregexp</dt>
<dd>
<p>to disable user-initiated registration (requiring the administrator to create each user account by hand), clear
the field&#8217;s contents</p>
</dd>
</dl>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/bugzilla_emailregexp.png" alt="bugzilla emailregexp">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_attachments">Attachments</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">maxattachmentsize</dt>
<dd>
<p>The maximum size in kilobytes for attachments. Change it to <code>10240</code> (10 MB)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_graphs">Dependency Graphs</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">webdotbase</dt>
<dd>
<p>To disable relying on an external service for rendering dependency graphs of issues (as populated by
default), clear the field&#8217;s contents</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_email">Email</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">mail_delivery_method</dt>
<dd>
<p>If an SMTP server is available, configure its address and authentication properties below;
otherwise, set this value to <code>None</code> to disable sending mail altogether</p>
</dd>
<dt class="hdlist1">smtpserver</dt>
<dd>
<p>Clear the field&#8217;s contents if no SMTP server is used</p>
</dd>
<dt class="hdlist1">whinedays</dt>
<dd>
<p>Set to 0 if mail delivery is not enabled and/or there&#8217;s no need to send users regular notifications about
their assigned bugs which remained in NEW state</p>
</dd>
<dt class="hdlist1">use-mailer-queue</dt>
<dd>
<p>When set to <code>On</code>, e-mails are sent asynchronously; to use this feature, the jobqueue.pl daemon needs to be started.
For more information on this topic, please see <a href="http://www.bugzilla.org/docs/3.6/en/html/api/jobqueue.html" class="bare">http://www.bugzilla.org/docs/3.6/en/html/api/jobqueue.html</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_product_setup">Product setup</h4>
<div class="paragraph">
<p>Bugzilla tracks the authoring aspects of Snow Owl clients in multiple products. Per-product configuration is shown in the following
parts of the guide.</p>
</div>
<div class="paragraph">
<p>Opening the preference page <code>Snow Owl &gt; Bugzilla Products</code> displays the supported products in the client and their
corresponding product names in Bugzilla. If you have different product names added in the issue tracker, you have to
adjust the product name as shown in the image. Make sure to press Enter or click in the table to apply the change in
the field before hitting <code>Apply</code> or <code>OK</code> to apply the changes. Products which are not handled by contributed task
editors are displayed with an empty context view only:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/bugzilla_products.png" alt="bugzilla products">
</div>
</div>
<div class="paragraph">
<p>To match the default value set in client preferences, create a product called <code>Snow Owl Collaborative Editing</code> by clicking <code>Products</code>
on Bugzilla&#8217;s administration page. Add a description, optionally set a version to discern individual releases, and keep <code>Open for bug entry</code>
checked to allow users to file issues under this product. After creating the product, a warning will be issued by Bugzilla to create a
component as well. Add the following components with the <code>Component</code>, <code>Component description</code> and <code>Default assignee</code> fields populated:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single author with single reviewer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single author with single reviewer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with single reviewer  Dual authoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with single reviewer  Dual authoring</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with single reviewer  Dual blind authoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with single reviewer  Dual blind authoring</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with dual reviewers  Dual authoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with dual reviewers  Dual authoring</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with dual reviewers  Dual blind authoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual authors with dual reviewers  Dual blind authoring</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<img src="images/bugzilla_add_product.png" alt="bugzilla add product">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/bugzilla_add_component.png" alt="bugzilla add component">
</div>
</div>
<div class="paragraph">
<p>Add custom fields through the web interface (<code>Administration &gt; Custom fields</code>):</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Sortkey</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Editable on Bug Creation</th>
<th class="tableblock halign-left valign-top">In Bugmail on Bug Creation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_artifacttype</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task artifact type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_author_one</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author one</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">410</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_author_two</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author two</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">420</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_reviewer_one</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reviewer one</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">430</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_reviewer_two</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reviewer two</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">440</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_adjudicator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adjudicator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">450</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_artifact_properties_source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Properties source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">991</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_mappingset_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping set ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">992</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_valueset_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value domain ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">993</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_is_promoted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Promoted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">995</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_parent_refset_map_target_component_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference set map target component type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">996</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_parent_refset_referenced_component_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference set referenced component type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">997</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_parent_refset_identifierconcept_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent reference set identifier concept id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">998</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cf_refset_identifierconcept_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference set identifier concept</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">999</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_authentication_against_ldap">Authentication against LDAP</h4>
<div class="paragraph">
<p>Bugzilla is capable to authenticate against the external LDAP server which Snow Owl Server will use. Setting it up
requires the following steps to be taken:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Go to <code>Administration &gt; Parameters &gt; LDAP</code> and populate the following fields:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">LDAPserver</dt>
<dd>
<p>hostname:port pair for contacting the server, eg. <code>localhost:10389</code></p>
</dd>
<dt class="hdlist1">LDAPBaseDN</dt>
<dd>
<p>set to <code>dc=snowowl,dc=b2international,dc=com</code></p>
</dd>
<dt class="hdlist1">LDAPuidattribute</dt>
<dd>
<p>set to <code>uid</code></p>
</dd>
<dt class="hdlist1">LDAPmailattribute</dt>
<dd>
<p>set to <code>uid</code></p>
</dd>
</dl>
</div>
</li>
<li>
<p>Click <code>Save Changes</code> to apply changes</p>
</li>
<li>
<p>Go to <code>Administration &gt; Parameters &gt; User Authentication</code>, scroll down to <code>user_verify_class</code> and make <code>LDAP</code> the top-most
item</p>
</li>
<li>
<p>Click <code>Save Changes</code> to finish</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To test, click the <code>Log Out</code> link at the top and try to log in with your bugzilla username and LDAP password. If it was sucessful,
you should see bugzilla&#8217;s landing page. If you see an error message about not able to connect to the LDAP server, then run the
following command as root:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># setsebool -P httpd_can_network_connect on</pre>
</div>
</div>
<div class="paragraph">
<p>This will allow Apache to make network connections.</p>
</div>
<div class="paragraph">
<p>If LDAP is still not working and you are being locked out from bugzilla, you can change back bugzilla to use its internal database for
authentication, instead of LDAP. To do so, edit <code>/var/www/html/bugzilla/data/params</code>, deleting LDAP from the <code>user_verify_class</code> entry:</p>
</div>
<div class="listingblock">
<div class="title">/var/www/html/bugzilla/data/params</div>
<div class="content">
<pre>...
'user_verify_class' =&gt; 'DB',
...</pre>
</div>
</div>
<div class="paragraph">
<p>If users are already entered in the LDAP server, it is important to synchronize Bugzilla&#8217;s user database to contents of LDAP so tasks can be
assigned to all users. Run the following script to perform synchronization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># cd /var/www/html/bugzilla
# ./contrib/syncLDAP.pl</pre>
</div>
</div>
<div class="paragraph">
<p>For general questions and documentation, please refer to chapter 3.1.10. LDAP Authentication in the documentation:
<a href="http://www.bugzilla.org/docs/3.6/en/html/parameters.html" class="bare">http://www.bugzilla.org/docs/3.6/en/html/parameters.html</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_snow_owl_server">Snow Owl Server</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_db_connection">DB connection</h3>
<div class="paragraph">
<p>Create a MySQL user for the Snow Owl Server by connecting to the DBMS via the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mysql -u root -p
Enter password: root_pwd <b class="conum">(1)</b>

mysql&gt; CREATE USER 'snowowl'@'localhost' IDENTIFIED BY 'snowowl_pwd'; <b class="conum">(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Replace <code>root_pwd</code> with the password for the <code>root</code> user in MySQL</p>
</li>
<li>
<p>Replace <code>snowowl_pwd</code> with a generated password for the <code>snowowl</code> user in MySQL</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Save the following shell script to an executable file to create databases and grant privileges for user <code>snowowl</code>:</p>
</div>
<div class="listingblock">
<div class="title">snowowl_create_db.sh</div>
<div class="content">
<pre>Unresolved directive in configuration_guide.adoc - include::scripts/snowowl_create_db.sh[]</pre>
</div>
</div>
<div class="paragraph">
<p>B2i provided MySQL dumps (if present) can be found in <code>/opt/snowowl-community_{version}/resources/*.sql</code> files
after unpacking the installation archive. To load terminology data, save and execute the following script:</p>
</div>
<div class="listingblock">
<div class="title">snowowl_load_db.sh</div>
<div class="content">
<pre>Unresolved directive in configuration_guide.adoc - include::scripts/snowowl_load_db.sh[]</pre>
</div>
</div>
<div class="paragraph">
<p>Update <code>snowowl_config.yml</code> to use LDAP authentication and set the MySQL password for <code>snowowl</code>, created earlier:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>repository:
  ...

  database:
    ...
    username: snowowl
    password: snowowl <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Update MySQL username and password, if neccessary</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_file_authentication">File Authentication</h3>
<div class="paragraph">
<p>To use file based authentication, configure the <code>auth</code> property to <code>PROP_FILE</code> and the <code>fileAuth</code> configuration object to the desired username/password in the <code>snowowl_config.yml</code> file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Building Snow Owl produces a ready to use, deployable package with the default passwords (<code>fileAuth</code> and <code>database</code> properties) configured. Usage of the default password configuration is not recommended in production environments.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ldap_authentication">LDAP Authentication</h3>
<div class="paragraph">
<p>To use the configured LDAP instance, adjust <code>snowowl_jaas_configuration.properties</code> to
include the host name of the LDAP server and the LDAP administrator password:</p>
</div>
<div class="listingblock">
<div class="title">/opt/snowowl-community_{version}/configuration/snowowl_jaas_configuration.properties</div>
<div class="content">
<pre>LDAP {
    org.eclipse.equinox.security.auth.module.ExtensionLoginModule required
        extensionId="com.b2international.snowowl.authentication.ldap.ldapLoginModule"
        ...
        userProvider="ldap://&lt;ldap_host&gt;:10389/" <b class="conum">(1)</b>
        usePool=false
        snowOwlBase="dc=snowowl,dc=b2international,dc=com"
        bindDnUser="uid=admin,ou=system"
        bindDnPassword="secret" <b class="conum">(2)</b>
        ...
};</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Replace <code>&lt;ldap_host&gt;</code> with the host name of the LDAP server to connect to</p>
</li>
<li>
<p>Replace <code>secret</code> with the LDAP administrator&#8217;s password</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_memory_settings">Memory settings</h3>
<div class="paragraph">
<p>Heap size used by Snow Owl can be adjusted in <code>dmk.sh</code>; look for the following seciton:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>JAVA_OPTS="$JAVA_OPTS \
    -Xms8g \
    -Xmx10g \
    -XX:MaxPermSize=512m \</pre>
</div>
</div>
<div class="paragraph">
<p><code>Xms</code> sets the minimum heap size, <code>Xmx</code> sets the maximum heap size, and <code>XX:MaxPermsize</code> sets the PermGen space used by the JVM.</p>
</div>
</div>
<div class="sect2">
<h3 id="_osgi_console">OSGi console</h3>
<div class="paragraph">
<p>The OSGi console can be accessed both via ssh and telnet. Configuration settings to for remote access can be found in <code>osgi.console.properties</code>.
The default settings are:</p>
</div>
<div class="listingblock">
<div class="title">/opt/snowowl-community_{version}/repository/ext/osgi.console.properties</div>
<div class="content">
<pre>telnet.enabled=true
telnet.port=2501
telnet.host=localhost
ssh.enabled=true
ssh.port=2502
ssh.host=localhost</pre>
</div>
</div>
<div class="paragraph">
<p>Further information on how to enable/disable the OSGi console can be found here:
<a href="http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch08.html" class="bare">http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch08.html</a>.</p>
</div>
<div class="paragraph">
<p>For opening a telnet connection to the server, type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ telnet localhost 2501
Trying ::1...
Connected to localhost.
Escape character is '^]'.
osgi&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_web_server_configuration">Web Server Configuration</h3>
<div class="paragraph">
<p>Snow Owl Server uses Tomcat as its built-in web server for administrative and RESTful services. The configuration
settings for the web server can be found in <code>tomcat-server.xml</code>. Detailed information on configuring the different
elements can be found here: <a href="http://tomcat.apache.org/tomcat-7.0-doc/config/index.html" class="bare">http://tomcat.apache.org/tomcat-7.0-doc/config/index.html</a>. The most important settings
are the port numbers for HTTP and HTTPS protocols:</p>
</div>
<div class="listingblock">
<div class="title">/opt/snowowl-community_{version}/configuration/tomcat-server.xml</div>
<div class="content">
<pre>&lt;Service name="Catalina"&gt;
   &lt;Connector port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
              redirectPort="8443" /&gt;
   &lt;Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
              maxThreads="150" scheme="https" secure="true"
              clientAuth="false" sslProtocol="TLS"
              keystoreFile="configuration/keystore"
              keystorePass="changeit"/&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_web_server_administrative_console_application">Web Server Administrative Console application</h3>
<div class="paragraph">
<p>The Admin Console is a web application for managing the Virgo Server instance powering Snow Owl Server. The default
location of the admin console is at <a href="http://localhost:8080/admin" class="bare">http://localhost:8080/admin</a>.</p>
</div>
<div class="paragraph">
<p>The Admin Console is a password-protected page; to configure users allowed to access the Admin Console, change settings
in file <code>org.eclipse.virgo.kernel.users.properties</code>. The username-password pair configured by default is <code>user=admin, pwd=adminpwd</code>:</p>
</div>
<div class="listingblock">
<div class="title">/opt/snowowl-community_{version}/configuration/org.eclipse.virgo.kernel.users.properties</div>
<div class="content">
<pre> ##################
 # User definitions
 ##################
 user.admin=adminpwd

 ##################
 # Role definitions
 ##################
 role.admin=admin</pre>
</div>
</div>
<div class="paragraph">
<p>More information on administrative user access control can be found on the following pages:
<a href="http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch09.html" class="bare">http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch09.html</a> and
<a href="http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.0.M04/docs/virgo-user-guide/html/ch13s06.html#configuring-authentication" class="bare">http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.0.M04/docs/virgo-user-guide/html/ch13s06.html#configuring-authentication</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_reference">Configuration reference</h3>
<div class="paragraph">
<p>Snow Owl Server comes with a predefined default configuration file, which can be used to tweak various system parameters.
The configuration file is in YAML format, and located at <code>/opt/snowowl-community_{version}/snowowl_config.yml</code>. You
can read more about how to create/write such files here: <a href="http://en.wikipedia.org/wiki/YAML" class="bare">http://en.wikipedia.org/wiki/YAML</a>.</p>
</div>
<div class="paragraph">
<p>The configuration file has a hierarchical structure, which is defined by modules. Different modules can have different
configurations, a module is defined by its name, which should start a line in the file. Configuration parameters in a
module should be indented by two spaces following the module&#8217;s name.</p>
</div>
<div class="paragraph">
<p>The next section contains the reference of our currently supported configuration parameters. Each parameter should be
present in a module configuration as described above.</p>
</div>
<div class="paragraph">
<p>Snow Owl Server refuses to start if the configuration file contains syntactical or structural errors. The cause of the
problem can be found in the <code>log.log</code> file, or in the console if you&#8217;ve redirected the output of the server&#8217;s startup
process.</p>
</div>
<div class="sect3">
<h4 id="_authentication">Authentication</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LDAP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PROP_FILE</code>, <code>LDAP</code> - choose which type of authentication method you want. NOTE: <code>PROP_FILE</code> is supported on standalone environments only.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>authentication:
  type: PROP_FILE</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_repository">Repository</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0.0.0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The host name to bind to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2036</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The port of the chosen network interface to use when listening for connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfWorkers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3 x NumberOfCores</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of worker threads to assign to a repository during initialization.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revisionCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable CDO revision cache to keep data returned from the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">readerPoolCapacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The capacity of the reader pool associated with the SNOMED CT store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">writerPoolCapacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The capacity of the writer pool associated with the SNOMED CT store.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>repository:
  host: 0.0.0.0
  port: 2036</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_database">Database</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory of the embedded database inside the global resources folder where the application should look for the database files by default (if no location parameter is given).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>h2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the database adapter to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">driverClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.h2.Driver</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified name of the driver&#8217;s Java class to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">datasourceClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.h2.jdbcx.JdbcDataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified name of the datasource&#8217;s Java class to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdbc:h2:</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheme to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location of the database when connecting to it. If not set then in embedded mode the default directory parameter will be used as location.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username of the database user to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password of the database user to use when connecting to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settings</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other database specific JDBC settings to use when connecting to the database.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>repository:
  database:
    directory: store
    type: h2
    username: admin
    password: admin</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_index">Index</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commitInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>15000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hard commit interval of an index in milliseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">translogSyncInterval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sync interval of the transaction log in milliseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">queryWarnThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>400</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the warn log when querying data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">queryInfoThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>300</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the info log when querying data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">queryDebugThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the debug log when querying data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">queryTraceThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>50</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the trace log when querying data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetchWarnThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>200</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the warn log when fetching data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetchInfoThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the info log when fetching data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetchDebugThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>50</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the debug log when fetching data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetchTraceThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The threshold of the trace log when fetching data.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>repository:
  index:
    commitInterval: 5000
    translogSyncInterval: 1000
    queryWarnThreshold: 400
    fetchInfoThreshold: 100</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rpc">RPC</h4>
<div class="paragraph">
<p>RPC is a custom protocol implementation used to solve request-response based communication between a client and a server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Changing these settings is not recommended and currently unsupported in production environments.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">logging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code>, <code>ON</code>, <code>OFF</code> - enable or disable verbose logging during RPC communication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compressed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code>, <code>ON</code>, <code>OFF</code> - enable or disable GZIP compression of the communication.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>rpc:
  logging: true
  compressed: false</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_metrics">Metrics</h4>
<div class="paragraph">
<p>Snow Owl can measure and report execution times (and other metrics in the future) of executed requests.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code>, <code>ON</code>, <code>OFF</code> - enable or disable metrics in the application</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_snomed_ct">SNOMED CT</h4>
<div class="paragraph">
<p>Configuration of SNOMED CT terminology services.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">readerPoolCapacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The capacity of the reader pool associated with the SNOMED CT store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">writerPoolCapacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The capacity of the writer pool associated with the SNOMED CT store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>en-gb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>en-gb</code>, <code>en-us</code>, <code>en-sg</code> - The language code to use for SNOMED CT Descriptions. Descriptions with membership of the chosen
language&#8217;s reference set will be used runtime.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxReasonerCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of reasoners permitted to do computation simultaneously. Minimum <code>1</code>, maximum <code>3</code> is allowed. If the value is set to
<code>1</code>, classification requests will be processed in a sequential fashion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxReasonerResults</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of inferred taxonomies that should be kept in memory after the reasoner completes the computational stage. The user can only
choose to save the results of the classification run if the corresponding taxonomy instance is still present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxReasonerRuns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of classification runs of which details should be preserved on disk. Details include inferred and redundant relationships,
the list of equivalent concepts found during classification, and classification run metadata (start and end times, status, requesting user,
reasoner used for this run).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showReasonerUsageWarning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'true' will display a dialog if any user selects a non-ELK reasoner, citing memory and compatibility problems, also recommending to contact B2i.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">concreteDomainSupport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'true' will turn on support for concrete domains.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inferredEditingEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'true' will enable manual editing of inferred relationships and concrete domain elements.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>snomed:
  language: en-gb
  maxReasonerCount: 1
  maxReasonerResults: 20
  showReasonerUsageWarning: true
  concreteDomainSupport: true
  inferredEditingEnabled: false</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_snomed_ct_component_identifier_configuration">SNOMED CT Component Identifier Configuration</h4>
<div class="paragraph">
<p>Snow Owl&#8217;s SNOMED CT identifier service an be configured to be either using the built-in or IHTSDO&#8217;s external Component Identifier Service (CIS).  The configuration needs to be placed within the <strong>snomed/ids</strong> section.
If omitted, then default configuration will be used, which is the built-in (embedded) service based on the index store allocating ids in a sequential fashion.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EMBEDDED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EMBEDDED</code> or <code>CIS</code> - The service used to generate ids.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INDEX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INDEX</code> or <code>MEMORY</code> - The source of the generated ids.  <code>MEMORY</code> is used for testing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEQUENTIAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SEQUENTIAL</code> or <code>RANDOM</code> - The strategy of the id generation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisBaseUrl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service&#8217;s URL with port and without context root.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisContextRoot</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The context root of the id generation service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisUserName</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The registered user name at the CIS site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisPassword</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password for the registered user name at the CIS site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisClientSoftwareKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snow Owl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The client software key to be persisted within CIS as reference.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisNumberOfPollTries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of tries when polling jobs of bulk requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisTimeBetweenPollTries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time to wait between 2 job polling actions It is in milliseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisNumberOfReauthTries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of re-authentication attempts when a 401 Not authorized response is received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cisMaxConnections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of simultaneous connections that Snow Owl can make to the CIS host via HTTP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxIdGenerationAttempts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of attempts any non-CIS ID generator will take to generate a single SNOMED CT identifier, if exceeded it throws an exception.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example for using the built-in service with random ids using the index as the source:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>snomed:
  ...
  ids:
    service: EMBEDDED
    source: INDEX
    strategy : RANDOM
    cisBaseUrl : &lt;cis_host_and_port&gt;
    cisContextRoot : api
    cisUserName : &lt;your-cis-username&gt;
    cisPassword : &lt;your-cis-password&gt;
    cisClientSoftwareKey : Snow Owl dev. deployment
    cisNumberOfPollTries : 1
    cisTimeBetweenPollTries : 1000
    cisMaxConnections: 100
  ...</pre>
</div>
</div>
<div class="paragraph">
<p>Example for using IHTSDO&#8217;s external CIS service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>snomed:
  ...
  ids:
    service : CIS
    cisBaseUrl : &lt;cis_host_and_port&gt;
    cisContextRoot : api
    cisUserName : &lt;your-cis-username&gt;
    cisPassword : &lt;your-cis-password&gt;
    cisClientSoftwareKey : Snow Owl dev. deployment
    cisNumberOfPollTries : 1
    cisTimeBetweenPollTries : 1000
    cisMaxConnections: 100
  ...</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logging">Logging</h3>
<div class="paragraph">
<p>Log files are stored under <code>./opt/snowowl-community_{version}/serviceability</code> directory of the Snow Owl server.
The following log files are created:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>logs/log.log</code></dt>
<dd>
<p>Generic system trace log file, all log messages are written into this file. In case the file reaches a
pre-defined maximum size, the system will create additional files named <code>log_1.log</code>, <code>log_2.log</code>, etc. This log serves
two main purposes:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It provides global trace files that capture high-volume information regarding the Virgos internal events. The files
are intended for use by support personnel to diagnose runtime problems.</p>
</li>
<li>
<p>It provides application trace files that contain application-generated output. This includes output generated using
popular logging and tracing APIs including the OSGi LogService, as well as output generated by calls to <code>System.out</code> and
<code>System.err</code>. These files are intended for use by application developers and system administrators. An application is
defined as a scope so a single bundle will not get its own log file unless it is a Web application Bundle or is included
in a scoped plan or a par file.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1"><code>logs/access/*.log</code></dt>
<dd>
<p>Web container access log files in the same format as those created by standard web servers. The log
files are prefixed with the string <code>localhost_access_log</code>, have a suffix of <code>.txt</code>, use a standard format for identifying
what should be logged, and do not include DNS lookups of the IP address of the remote host.</p>
</dd>
<dt class="hdlist1"><code>eventlogs/eventlog.log</code></dt>
<dd>
<p>The <code>EVENT_LOG_FILE</code> appender logs only important events and thus the volume of information is
lower.</p>
</dd>
<dt class="hdlist1"><code>logs/snowowl/snowowl_user_audit.log</code></dt>
<dd>
<p>Events with business significance will be logged in this file.</p>
</dd>
<dt class="hdlist1"><code>logs/snowowl/snowowl_user_access.log</code></dt>
<dd>
<p>User access events are logged in this log file. Both authorized and unauthorized
access is logged.</p>
</dd>
<dt class="hdlist1"><code>logs/snowowl/snowowl_import.log</code></dt>
<dd>
<p>Import processes log into this file detailed information about import.</p>
</dd>
<dt class="hdlist1"><code>logs/snowowl/snowowl_export.log</code></dt>
<dd>
<p>Export processes log into this file detailed information about export.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Detailed information on the configuration on the logging configuration can be found here:
<a href="http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch11.html" class="bare">http://www.eclipse.org/virgo/documentation/virgo-documentation-3.6.1.RELEASE/docs/virgo-user-guide/html/ch11.html</a>.</p>
</div>
<div class="paragraph">
<p>Currently, default logging appenders for the log targets above look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;appender name="LOG_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
    &lt;file&gt;serviceability/logs/log.log&lt;/file&gt;
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy"&gt;
        &lt;FileNamePattern&gt;serviceability/logs/log_%i.log&lt;/FileNamePattern&gt;
        &lt;MinIndex&gt;1&lt;/MinIndex&gt;
        &lt;MaxIndex&gt;4&lt;/MaxIndex&gt;
    &lt;/rollingPolicy&gt;
    &lt;triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"&gt;
        &lt;MaxFileSize&gt;10MB&lt;/MaxFileSize&gt;
    &lt;/triggeringPolicy&gt;
    &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt;
        &lt;Pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] %-5level %-28.28thread %-64.64logger{64} %X{medic.eventCode} %msg %ex%n&lt;/Pattern&gt;
    &lt;/encoder&gt;
&lt;/appender&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>In this setting, the administrator can set the location of the log file, the maximum size of the log file and the
total number of files rolling over. Documentation on the logging configuration settings can be found here: <a href="http://logback.qos.ch" class="bare">http://logback.qos.ch</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_virgo_documentation">Virgo documentation</h3>
<div class="paragraph">
<p>Complete documentation of the Virgo OSGi server can be found here: <a href="http://www.eclipse.org/virgo/documentation" class="bare">http://www.eclipse.org/virgo/documentation</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-02-09 21:33:18 CET
</div>
</div>
</body>
</html>